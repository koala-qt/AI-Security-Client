webpackJsonp([25],{V8K5:function(t,e){},lmZE:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("2hMI"),i=s("ojJb"),n=s.n(i),o={name:"workbench",data:function(){return{logAPI:"",netAPI:"",logText:[],platformwarningNum:0,devicewarningNum:0,allStaticImg:n.a.workbenchImages}},computed:{applist:function(){return[{name:this.$t("workbench.appList.access"),src:n.a.workbenchImages[1].accessControl},{name:this.$t("workbench.appList.attendance"),src:n.a.workbenchImages[1].attendance},{name:this.$t("workbench.appList.monitor"),src:n.a.workbenchImages[1].monitor}]}},created:function(){this.logAPI=Object(a.a)().get("operation_log"),this.netAPI=Object(a.a)().get("alarm_log"),this.findLog(),this.findWarningNum()},methods:{turnPath:function(t){switch(t){case 0:this.toAccessSystem();break;case 1:break;case 2:this.toMonitoringSystem()}},addApp:function(){},findWarningNum:function(){var t=this;this.$http.get(this.netAPI.findByCondition,{params:{eventSource:1}}).then(function(e){200==e.body.status?t.platformwarningNum=e.body.total:t.$message.warning(e.body.message)}),this.$http.get(this.netAPI.findByCondition,{params:{eventSource:0}}).then(function(e){200==e.body.status?t.devicewarningNum=e.body.total:t.$message.warning(e.body.message)})},findLog:function(){var t=this;this.$http.get(this.logAPI.find).then(function(e){200==e.body.status?(t.logText.push(e.body.data[0]),t.logText.push(e.body.data[1]),t.logText.push(e.body.data[2]),t.logText.forEach(function(e){e.timestamp=t.parsedate(e.timestamp)})):t.$message.warning(e.body.message)},function(e){t.$message.warning(t.$t("common.serviceError")+e)})},openDeleteApp:function(t){var e=this;this.$confirm("应用删除后，该应用下所有支持的功能将全部关闭，您确定执行该操作吗?",this.$t("delete.tips"),{distinguishCancelAndClose:!0,type:"warning",confirmButtonText:this.$t("delete.ok"),cancelButtonText:this.$t("delete.cancel")}).then(function(){e.applist.splice(t,1),e.$message.success(e.$t("common.deleteSuccess"))}).catch(function(){e.$message({type:"info",message:e.$t("delete.canceledDeletion")})})},parsedate:function(t){return t.slice(0,10)+" "+t.slice(11,19)},toAccessSystem:function(){this.$router.push({path:"/accessSystem/access_manage/index"})},toMonitoringSystem:function(){this.$router.push({path:"/monitoringSystem/monitoring_system/deviceManage?type=0"})},turntoplatformwarning:function(){this.$router.push({name:"预警查看",params:{num:1}})},devicewarning:function(){this.$router.push({name:"预警查看",params:{num:0}})}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workbench"},[s("div",{staticClass:"top"},[s("div",{staticClass:"security_warning"},[s("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("workbench.boxTitle.security"))+"\n        "),s("i",{staticClass:"blue"})]),t._v(" "),s("div",{staticClass:"war"},[s("div",{staticClass:"war-box",on:{click:t.turntoplatformwarning}},[s("div",{staticClass:"war-box-title"},[s("img",{attrs:{src:this.allStaticImg[0].armicon1,alt:""}}),t._v(" "),s("span",{staticStyle:{"margin-left":"0.1rem"}},[t._v("丨"+t._s(t.$t("workbench.securityTxt.platform")))])]),t._v(" "),s("div",{staticClass:"war-box-num"},[t._v(t._s(t.platformwarningNum))])]),t._v(" "),s("div",{staticClass:"war-box",on:{click:t.devicewarning}},[s("div",{staticClass:"war-box-title"},[s("img",{attrs:{src:this.allStaticImg[0].armicon2,alt:""}}),t._v(" "),s("span",{staticStyle:{"margin-left":"0.1rem"}},[t._v("丨"+t._s(t.$t("workbench.securityTxt.device")))])]),t._v(" "),s("div",{staticClass:"war-box-num"},[t._v(t._s(t.devicewarningNum))])])])]),t._v(" "),s("div",[s("div",{staticClass:"title"},[t._v("\n        "+t._s(t.$t("workbench.boxTitle.management"))+"\n        "),s("i",{staticClass:"blue"})]),t._v(" "),s("div",{staticClass:"helper"},[s("div",{staticClass:"helper-box"},[s("div",{staticClass:"helper-box-title"},[s("img",{attrs:{src:this.allStaticImg[0].detection,alt:""}}),t._v(" "),s("span",{staticStyle:{"margin-left":"0.1rem"}},[t._v("丨"+t._s(t.$t("workbench.helperTxt.platform")))])])]),t._v(" "),s("div",{staticClass:"helper-box"},[s("div",{staticClass:"helper-box-title"},[s("img",{attrs:{src:this.allStaticImg[0].detection,alt:""}}),t._v(" "),s("span",{staticStyle:{"margin-left":"0.1rem"}},[t._v("丨"+t._s(t.$t("workbench.helperTxt.Terminal")))])])]),t._v(" "),s("div",{staticClass:"helper-box"},[s("div",{staticClass:"helper-box-title"},[s("img",{attrs:{src:this.allStaticImg[0].debugging,alt:""}}),t._v(" "),s("span",{staticStyle:{"margin-left":"0.1rem"}},[t._v("丨"+t._s(t.$t("workbench.helperTxt.Debugging")))])])])])]),t._v(" "),s("div",{staticClass:"operation-log"},[s("div",{staticClass:"title"},[s("i",{staticClass:"blue"}),t._v("\n        "+t._s(t.$t("workbench.boxTitle.Operation"))+"\n        "),s("router-link",{staticClass:"bto",attrs:{to:"/dataManage/operation"}},[s("i",{staticClass:"el-icon-more"})])],1),t._v(" "),s("div",{staticClass:"log"},[s("div",t._l(t.logText,function(e,a){return s("p",{key:a,attrs:{title:e.adminUsername+e.remark}},[t._v("\n              "+t._s(e.adminUsername)+"  "+t._s(e.remark.slice(0,6))+"...\n        ")])})),t._v(" "),s("div",t._l(t.logText,function(e,a){return s("p",{key:a},[t._v("\n              "+t._s(e.timestamp)+"\n        ")])}))])])]),t._v(" "),s("div",{staticClass:"bottom"},[s("h3",[t._v(t._s(t.$t("workbench.appBox.title")))]),t._v(" "),s("div",{staticClass:"applist"},[t._l(t.applist,function(e,a){return s("div",{key:a,staticClass:"app-box"},[s("div",{staticClass:"openDeleteApp",on:{click:function(e){t.openDeleteApp(a)}}},[s("img",{attrs:{src:t.allStaticImg[0].delete,alt:""}})]),t._v(" "),s("div",{staticClass:"app-box-center",on:{click:function(e){t.turnPath(a)}}},[s("div",{staticClass:"app-box-img",staticStyle:{"margin-right":"0.2rem"}},[s("img",{attrs:{src:e.src,alt:""}})]),t._v(" "),s("div",{staticClass:"app-box-text"},[t._v(t._s(e.name))])])])}),t._v(" "),s("div",{staticClass:"app-box",on:{click:t.addApp}},[s("div",{staticClass:"app-box-img add-box"},[t._v("+")]),t._v(" "),s("div",{staticClass:"app-box-text"},[s("router-link",{attrs:{to:"/monitoringLogin"}},[t._v(t._s(t.$t("workbench.appBox.appInsert")))])],1)])],2)])])},staticRenderFns:[]};var r=s("VU/8")(o,c,!1,function(t){s("V8K5")},"data-v-bac2c6a4",null);e.default=r.exports}});
//# sourceMappingURL=25.cdfec5516a60adafffcd.js.map