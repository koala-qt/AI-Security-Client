webpackJsonp([17],{"+SSq":function(e,t){},"16xI":function(e,t){},"8Evm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("2hMI"),o={name:"DialogWrapper",components:{},props:{di:{type:Object,default:function(){return{Visible:!1,Title:"新建",Width:"640px"}}},footerBtn:{type:Object,default:function(){return{cancel:"取 消",ok:"确 定"}}},isDisabled:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){},methods:{createDashBoard:function(){console.log("调用确定接口，成功后关闭窗口"),this.$emit("saveDialog")},closeDialogVis:function(){console.log("close前，数据清空处理"),this.$emit("closeDialog")}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"createDialogWrapper",attrs:{visible:e.di.Visible,"close-on-click-modal":!1,title:e.di.Title,width:e.di.Width,top:"300px"},on:{close:e.closeDialogVis}},[e._t("container"),e._v(" "),e._t("showfooter",[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"set-width",domProps:{textContent:e._s(e.footerBtn.cancel)},on:{click:function(t){return t.stopPropagation(),e.closeDialogVis(t)}}}),e._v(" "),a("el-button",{staticClass:"set-width",attrs:{disabled:e.isDisabled,type:"primary"},domProps:{textContent:e._s(e.footerBtn.ok)},on:{click:e.createDashBoard}})],1)])],2)},staticRenderFns:[]};var i={components:{dialogWropper:a("VU/8")(o,l,!1,function(e){a("16xI")},null,null).exports},data:function(){return{netApi:"",isDShowParam:{Visible:!1,Title:"参数设置",Width:"500px"},eventData:[],name:"",status:"",isImportant:"",isAlert:"",searchForm:{alarmEvent:"",eventName:"",importantEvent:"",eventStatus:"",order:"desc",sort:"",pageNo:1,pageSize:10},removeIds:[],multipleSelection:[]}},methods:{moreDel:function(){var e=this;this.$confirm("此操作将永久删除该事件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=e.multipleSelection.map(function(e){return{id:e.id}});e.$http.post(e.netApi.remove,t).then(function(t){200===t.data.status?(e.$message.success("删除成功"),e.getTableList()):e.$message.error("删除失败")})}).catch(function(){})},handleSelectionChange:function(e){this.multipleSelection=e},addeventManage:function(){this.$router.push("addeventManage")},getTableList:function(){var e=this;this.$http.get(this.netApi.find,{params:this.searchForm}).then(function(t){200===t.body.status?e.eventData=t.body.data:e.$message.warning("查询失败")})},changeRow:function(e){var t=this;console.log(e),this.$http.post(this.netApi.modify,e).then(function(e){200===e.body.status?t.$message.success("修改成功"):t.$message.warning("修改失败")})},editRow:function(e){this.$router.push({path:"addeventManage",query:{id:e.id}})},delRow:function(e,t){var a=this;console.log(e),t||this.removeIds.push({id:e.id}),this.$confirm("此操作将永久删除该事件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.post(a.netApi.remove,a.removeIds).then(function(e){200===e.body.status?(a.$message.success("删除成功"),a.getTableList()):a.$message.warning("修改失败")})}).catch(function(){})},saveDialogParam:function(){this.isDShowParam.Visible=!1},closeDialogParam:function(){this.isDShowParam.Visible=!1}},watch:{},created:function(){this.netApi=Object(n.a)().get("event_manage"),this.getTableList()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"eventManage"}},[a("dialog-wropper",{staticClass:"work-conn-dialog",attrs:{top:"200px",di:e.isDShowParam},on:{saveDialog:e.saveDialogParam,closeDialog:e.closeDialogParam}},[a("div",{attrs:{slot:"container"},slot:"container"},[e._v("\n          1233\n      ")])]),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"format-group"},[a("span",{staticClass:"span-tro"},[e._v("是否重大事件:")]),e._v(" "),a("el-select",{staticClass:"sel",attrs:{placeholder:"全部",clearable:""},model:{value:e.searchForm.importantEvent,callback:function(t){e.$set(e.searchForm,"importantEvent",t)},expression:"searchForm.importantEvent"}},[a("el-option",{key:3,attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{key:0,attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{key:1,attrs:{label:"否",value:"0"}})],1),e._v(" "),a("span",{staticClass:"span-tro"},[e._v("是否告警事件:")]),e._v(" "),a("el-select",{staticClass:"sel",attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchForm.alarmEvent,callback:function(t){e.$set(e.searchForm,"alarmEvent",t)},expression:"searchForm.alarmEvent"}},[a("el-option",{key:0,attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{key:1,attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{key:2,attrs:{label:"否",value:"0"}})],1),e._v(" "),a("span",{staticClass:"span-tro"},[e._v("事件状态:")]),e._v(" "),a("el-select",{staticClass:"sel",attrs:{placeholder:"请选择",clearable:""},model:{value:e.searchForm.eventStatus,callback:function(t){e.$set(e.searchForm,"eventStatus",t)},expression:"searchForm.eventStatus"}},[a("el-option",{key:0,attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{key:1,attrs:{label:"开启",value:"1"}}),e._v(" "),a("el-option",{key:2,attrs:{label:"关闭",value:"0"}})],1),e._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入事件名",clearable:""},model:{value:e.searchForm.eventName,callback:function(t){e.$set(e.searchForm,"eventName","string"==typeof t?t.trim():t)},expression:"searchForm.eventName"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getTableList}},[e._v("查询")]),e._v(" "),a("div",{staticStyle:{display:"inline-block",float:"right"}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addeventManage}},[e._v("新增自定义事件")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small",disabled:0===e.multipleSelection.length},on:{click:e.moreDel}},[e._v("批量删除")])],1)],1),e._v(" "),a("div",{staticClass:"eventTable"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.eventData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"eventName",label:"事件名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"事件描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"是否列为告警事件"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:1===e.eventData[t.$index].importantEvent,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){e.changeRow(t.row)}},model:{value:1===e.eventData[t.$index].importantEvent?e.eventData[t.$index].alarmEvent=1:e.eventData[t.$index].alarmEvent,callback:function(a){e.$set(1===e.eventData[t.$index].importantEvent?e.eventData[t.$index].alarmEvent=1:e.eventData[t.$index],"alarmEvent",a)},expression:"eventData[scope.$index].importantEvent === 1 ? eventData[scope.$index].alarmEvent = 1 : eventData[scope.$index].alarmEvent"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否列为重大事件"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){e.changeRow(t.row)}},model:{value:e.eventData[t.$index].importantEvent,callback:function(a){e.$set(e.eventData[t.$index],"importantEvent",a)},expression:"eventData[scope.$index].importantEvent"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"事件状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){e.changeRow(t.row)}},model:{value:e.eventData[t.$index].eventStatus,callback:function(a){e.$set(e.eventData[t.$index],"eventStatus",a)},expression:"eventData[scope.$index].eventStatus"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){e.editRow(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",disabled:1==t.row.defaultStatus},on:{click:function(a){e.delRow(t.row,0)}}},[e._v("删除")])]}}])})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",[this._v("事件管理")])])}]};var r=a("VU/8")(i,s,!1,function(e){a("+SSq")},null,null);t.default=r.exports}});
//# sourceMappingURL=17.457f12033da9f12fe898.js.map