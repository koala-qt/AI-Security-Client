webpackJsonp([39],{"/KTN":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("2hMI"),i={data:function(){return{date:"",netAPI:"",personType1:100010001001,personType2:100010001002,personType3:100010001003,personTypeArr:[{name:"员工",No:100010001001},{name:"访客",No:100010001002},{name:"黑名单",No:100010001003}],persionNumber1:0,persionTime1:0,persionNumber2:0,persionTime2:0,persionNumber3:0,persionTime3:0,recordTime:[],personTimes:[]}},created:function(){this.netAPI=Object(a.a)().get("accessSystem"),Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var s in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t},this.date=[(new Date).Format("yyyy-MM-dd 00:00:00"),(new Date).Format("yyyy-MM-dd 23:59:59")],this.findData()},mounted:function(){this.drawline()},methods:{findData:function(){var t=this;this.$http.get(this.netAPI.index.findTimes,{params:{startDate:this.date[0],endDate:this.date[1],personType:this.personTypeArr[0].No}}).then(function(e){200==e.body.status?(t.persionNumber1=e.body.data.personNumber,t.persionTime1=e.body.data.personTime):t.$message.warning(t.$t("accessSystem.chaxunshibai")+e.body.message)}),this.$http.get(this.netAPI.index.findTimes,{params:{startDate:this.date[0],endDate:this.date[1],personType:this.personTypeArr[1].No}}).then(function(e){200==e.body.status?(t.persionNumber2=e.body.data.personNumber,t.persionTime2=e.body.data.personTime):t.$message.warning(t.$t("accessSystem.chaxunshibai")+e.body.message)}),this.$http.get(this.netAPI.index.findTimes,{params:{startDate:this.date[0],endDate:this.date[1],personType:this.personTypeArr[2].No}}).then(function(e){200==e.body.status?(t.persionNumber3=e.body.data.personNumber,t.persionTime3=e.body.data.personTime):t.$message.warning(t.$t("accessSystem.chaxunshibai")+e.body.message)}),this.$http.get(this.netAPI.index.findFlowrate,{params:{startDate:this.date[0],endDate:this.date[1]}}).then(function(e){if(200==e.body.status){for(var s in t.recordTime=[],t.personTimes=[],e.body.data)if(e.body.data.hasOwnProperty(s)){var a=e.body.data[s];t.recordTime.push(s),t.personTimes.push(a)}t.drawline()}else t.$message.warning(t.$t("accessSystem.chaxunshibai")+e.body.message)})},formatterData:function(){this.recordTime=[],this.personTimes=[]},dateMinus:function(){var t=new Date(this.date[0]),e=new Date(this.date[1]).getTime()-t.getTime();return parseInt(e/864e5)},drawline:function(){this.$echarts.init(document.getElementById("echarts")).setOption({xAxis:{type:"category",data:this.recordTime},yAxis:{type:"value",minInterval:1,splitLine:{show:!1},max:function(t){return 2*t.max}},tooltip:{triggerOn:"mousemove",formatter:function(t){return console.log(t),t.name+"<br />"+t.value+this.$t("accessSystem.ci")}},series:[{data:this.personTimes,type:"line",smooth:!0,lineStyle:{normal:{width:5,color:"#E7A640",shadowColor:"#CBCBCB",shadowBlur:10,shadowOffsetY:10}}}]})}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"bench"}},[s("div",{staticClass:"dateSelect"},[s("span",[t._v(t._s(t.$t("accessSystem.menjintongji")))]),t._v(" "),s("el-date-picker",{staticClass:"picker",attrs:{"unlink-panels":"",type:"daterange",clearable:!1,"range-separator":t.$t("accessSystem.zhi"),"value-format":"yyyy-MM-dd","start-placeholder":t.$t("accessSystem.kaishiriqi"),"end-placeholder":t.$t("accessSystem.jieshuriqi"),"default-time":["00:00:00","23:59:59"]},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),t._v(" "),s("el-button",{staticClass:"btn",attrs:{round:"",type:"primary"},on:{click:t.findData}},[t._v(t._s(t.$t("accessSystem.chaxun")))]),t._v(" "),s("div",{staticClass:"line"})],1),t._v(" "),s("div",{staticClass:"acount"},[s("div",{staticClass:" box1 ac_contain"},[s("p",[t._v(t._s(t.$t("accessSystem.yuangongtongxingtongji")))]),t._v(" "),s("div",{staticStyle:{display:"flex"}},[s("div",{staticClass:"box",staticStyle:{"border-right":"2px solid rgba(228,228,228,1)"}},[s("span",{staticClass:"number"},[t._v(t._s(t.persionNumber1))]),t._v(t._s(t.$t("accessSystem.ren"))+"\n          "),s("div",{staticClass:"round"},[t._v(t._s(t.$t("accessSystem.tongxingrenshu")))])]),t._v(" "),s("div",{staticClass:"box"},[s("span",{staticClass:"number"},[t._v(t._s(t.persionTime1))]),t._v(t._s(t.$t("accessSystem.ci"))+"\n          "),s("div",{staticClass:"round"},[t._v(t._s(t.$t("accessSystem.tongxingrenci")))])])])]),t._v(" "),s("div",{staticClass:"ac_contain"},[s("p",[t._v(t._s(t.$t("accessSystem.fangketongxingtongji")))]),t._v(" "),s("div",{staticStyle:{display:"flex"}},[s("div",{staticClass:"box",staticStyle:{"border-right":"2px solid rgba(228,228,228,1)"}},[s("span",{staticClass:"number"},[t._v(t._s(t.persionNumber2))]),t._v(t._s(t.$t("accessSystem.ren"))+"\n          "),s("div",{staticClass:"round"},[t._v(t._s(t.$t("accessSystem.tongxingrenshu")))])]),t._v(" "),s("div",{staticClass:"box"},[s("span",{staticClass:"number"},[t._v(t._s(t.persionTime2))]),t._v(t._s(t.$t("accessSystem.ci"))+"\n          "),s("div",{staticClass:"round"},[t._v(t._s(t.$t("accessSystem.tongxingrenci")))])])])]),t._v(" "),s("div",{staticClass:"ac_contain"},[s("p",[t._v(t._s(t.$t("accessSystem.heimingdanjujuetongji")))]),t._v(" "),s("div",{staticStyle:{display:"flex"}},[s("div",{staticClass:"box",staticStyle:{"border-right":"2px solid rgba(228,228,228,1)"}},[s("span",{staticClass:"number"},[t._v(t._s(t.persionNumber3))]),t._v(t._s(t.$t("accessSystem.ren"))+"\n          "),s("div",{staticClass:"round"},[t._v(t._s(t.$t("accessSystem.tongxingrenshu")))])]),t._v(" "),s("div",{staticClass:"box"},[s("span",{staticClass:"number"},[t._v(t._s(t.persionTime3))]),t._v(t._s(t.$t("accessSystem.ci"))+"\n          "),s("div",{staticClass:"round"},[t._v(t._s(t.$t("accessSystem.tongxingrenci")))])])])])]),t._v(" "),s("div",{staticClass:"charts"},[s("p",{staticStyle:{"margin-left":"0.46rem","padding-top":"29px"}},[t._v(t._s(t.$t("accessSystem.renliuqushitongji")))]),t._v(" "),s("div",{attrs:{id:"echarts"}})])])},staticRenderFns:[]};var r=s("VU/8")(i,n,!1,function(t){s("bOJD")},"data-v-24ef7b2a",null);e.default=r.exports},bOJD:function(t,e){}});
//# sourceMappingURL=39.77c7eda53bc20a9e5e4e.js.map