{"version":3,"sources":["webpack:///src/components/pages/public/access_records.vue","webpack:///./src/components/pages/public/access_records.vue?4dc7","webpack:///./src/components/pages/public/access_records.vue"],"names":["access_records","name","components","separator","data","detailArr1","this","$t","property","detailArr2","tableData","accessrecordsdialogVisible","tableDataLabel","searchConfig","detailsShow","batchdisabled","multipleSelection","detailsDialog","tableBoxLoading","shouwDetails","netAPI","deviceAPI","pageSize","total","currentPage","personId","AccessResultType","personType","divergenceType","deviceType","divergenceId","persondetail","snapPhoto","imageUrl","date","env","searchParam","sn","startDate","endDate","field","pageNo","getRowKeys","row","id","created","Object","api","get","peopleAPI","getPersonType","findAccessResult","findAccessCategory","findDevice","searchData","mounted","tableType","operation_config","methods","filterselectable","index","$route","meta","changeDate","val","console","log","filterTbale","column","cell","i","length","no","filterTbale2","handleSelectionChange","v","_this","formatDate","$http","findAccessRecord","params","then","res","body","status","forEach","item","recordDate","parsedate","$refs","accessTable","clearSelection","y","getFullYear","m","getMonth","d","getDate","slice","_this2","promises","map","find","type","promise_default","a","all","resArr","result","concat","_this3","_this4","findPeopleCategory","_this5","openDetail","_this6","stringify_default","code","passageWay","validateResult","deviceName","findPersonDetail","resp","organization","urls","findPersonProperty","categoryNo","idcard","phone","ext_01","$message","warning","message","err","handlecloseaccessrecordsdialogVisible","done","cancelaccessrecordsdialogVisible","deleteRow","_this7","arguments","undefined","ids","prototype","toString","call","push","$confirm","distinguishCancelAndClose","confirmButtonText","cancelButtonText","post","delete","catch","handleSizeChange","handleCurrentChange","Current","detailsDialogClose","public_access_records","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","inline","model","label","staticStyle","width","placeholder","value","callback","$$v","$set","expression","range-separator","start-placeholder","end-placeholder","on","change","$event","clearable","filterable","_l","key","icon","click","ref","disabled","directives","rawName","height","header-cell-style","background","default-sort","prop","order","row-key","selection-change","fixed","reserve-selection","align","tab","$i18n","locale","enName","min-width","formatter","scopedSlots","_u","fn","scope","src","alt","color","size","nativeOn","preventDefault","current-page","page-sizes","page-size","layout","size-change","current-change","update:pageSize","title","visible","before-close","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"cloud/js/20.9203b00c0595d84299f0.js","sourcesContent":["<template>\r\n    <div class=\"accessRecord-Page\">\r\n        <separator id=\"bread\"></separator>\r\n        <div class=\"accessRecord-content\">\r\n        <div class=\"operation-box\">\r\n          <i class=\"blue\"></i>\r\n          <div class=\"title\">\r\n            <span>{{$t(\"accessRecords.identification\")}}</span>\r\n          </div>\r\n          <!-- 搜索栏 -->\r\n            <div class=\"search\">\r\n              <el-form :inline=\"true\" :model=\"searchParam\" class=\"demo-form-inline\">\r\n                <el-form-item :label=\"$t('accessRecords.nameOrNum')+'：'\">\r\n                  <el-input v-model=\"searchParam.field\" :placeholder=\"$t('accessRecords.nameOrNum')\"\r\n                            style=\"width:3.5rem\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item :label=\"$t('accessRecords.time')+'：'\" >\r\n                  <el-date-picker\r\n                    class=\"picker\"\r\n                    v-model=\"date\"\r\n                    @change=\"changeDate()\"\r\n                    type=\"daterange\"\r\n                    :range-separator=\"$t('common.to')\"\r\n                    :start-placeholder=\"$t('common.startDate')\"\r\n                    :end-placeholder=\"$t('common.endDate')\"\r\n                    style=\"width:6.5rem\"\r\n                    >\r\n                  </el-date-picker>\r\n                </el-form-item>\r\n                <!-- <el-form-item :label=\"$t('accessRecords.trafficResults')+'：'\">\r\n                  <el-select class=\"mini-input\"\r\n                    v-model=\"searchParam.AccessResultType\"\r\n                    style=\"width:3rem\"\r\n                    :placeholder=\"$t('accessRecords.all')\"\r\n                    clearable\r\n                    filterable>\r\n                    <el-option\r\n                      v-for=\"(item,index) in AccessResultType\"\r\n                      :key=\"index\"\r\n                      :label=\"item\"\r\n                      :value=\"item\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item> -->\r\n                <!-- <br/> -->\r\n                <el-form-item :label=\"$t('accessRecords.personnelType')+'：'\" class=\"person-type\">\r\n                  <el-select class=\"mini-input\"\r\n                    style=\"width:3.5rem\"\r\n                    v-model=\"searchParam.personType\"\r\n                    :placeholder=\"$t('accessRecords.all')\"\r\n                    clearable\r\n                    filterable>\r\n                    <el-option\r\n                      v-for=\"(item,index) in personType\"\r\n                      :key=\"index\"\r\n                      :label=\"item.name\"\r\n                      :value=\"item.no\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                <!-- <el-form-item :label=\"$t('accessRecords.inOut')+'：'\" class=\"divergence-type\">\r\n                  <el-select class=\"mini-input\"\r\n                    style=\"width:3rem\"\r\n                    v-model=\"searchParam.divergenceType\"\r\n                    :placeholder=\"$t('accessRecords.all')\"\r\n                    clearable\r\n                    filterable>\r\n                    <el-option\r\n                      v-for=\"(item,index) in divergenceType\"\r\n                      :key=\"index\"\r\n                      :label=\"item\"\r\n                      :value=\"item\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item> -->\r\n                <el-form-item :label=\"$t('accessRecords.equipment')+'：'\" class=\"device\">\r\n                  <el-select class=\"mini-input\"\r\n                    style=\"width:3rem\"\r\n                    v-model=\"searchParam.sn\"\r\n                    :placeholder=\"$t('accessRecords.all')\"\r\n                    clearable\r\n                    filterable>\r\n                    <el-option\r\n                      v-for=\"(item,index) in deviceType\"\r\n                      :key=\"index\"\r\n                      :label=\"item.name\"\r\n                      :value=\"item.id\">\r\n                    </el-option>\r\n                  </el-select>\r\n                </el-form-item>\r\n                <!-- <div></div> -->\r\n                <el-form-item class=\"search-button\">\r\n                <el-button type=\"primary\" \r\n                           @click=\"searchData('search')\" \r\n                           icon=\"el-icon-search\"\r\n                           class=\"search-button\">{{$t(\"common.search\")}}</el-button>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                  <el-button icon=\"el-icon-delete\"\r\n                             ref=\"batchremove\"\r\n                             class=\"remove-button\"\r\n                             @click=\"deleteRow(multipleSelection)\"\r\n                             :disabled=\"batchdisabled\">{{$t(\"common.batchDeletion\")}}\r\n                  </el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n        </div>\r\n        <!-- 查询结果显示 -->\r\n        <div class=\"table-box\" ref=\"tableBox\">\r\n                <el-table\r\n                    ref=\"accessTable\"\r\n                    v-loading=\"tableBoxLoading\"\r\n                    :data=\"tableData\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n                    height=\"575\"\r\n                    :header-cell-style=\"{background:'rgba(245,248,252,1)'}\"\r\n                    :default-sort = \"{prop: 'id', order: 'ascending'}\"\r\n                    :row-key=\"getRowKeys\"\r\n                    >\r\n                    <el-table-column\r\n                      fixed\r\n                      type=\"selection\"\r\n                      width=\"55\"\r\n                      reserve-selection\r\n                    >\r\n                      <!-- :selectable=\"filterselectable\" -->\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    :label=\"$t('accessRecords.number')\"\r\n                    type=\"index\"\r\n                    width=\"80\"\r\n                    align=\"center\"\r\n                    >\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    v-for=\"(tab,index) in tableDataLabel\"\r\n                    :key=\"index\"\r\n                    :label=\"$i18n.locale=='en'?tab.enName:tab.name\"\r\n                    :prop=\"tab.property\"\r\n                    :min-width=\"tab.width\"\r\n                    align=\"center\"\r\n                    :formatter=\"index == 2?filterTbale:(index == 6 ?filterTbale2:null) \"\r\n                    >\r\n                      <!-- :formatter=\"index == 2 || index == 6 ? filterTbale: null\"-->\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                      :label=\"$t('accessRecords.snapPhotos')\"\r\n                      prop=\"snapPhoto\"\r\n                      align=\"center\"\r\n                    >\r\n                    <template slot-scope=\"scope\">\r\n                     <div v-if=\"scope.row.snapPhoto !== undefined\">\r\n                       <img :src=\"scope.row.snapPhoto\" alt=\"not found\" style=\"width:100%;height:100%\">\r\n                     </div>\r\n                     <div v-else>\r\n                       <span v-if=\"$i18n.locale == 'en'\">No photos</span>\r\n                       <span v-else>暂无抓拍照片</span>\r\n                     </div>\r\n                    </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    fixed=\"right\"\r\n                    :label=\"$t('common.operation')\"\r\n                    width=\"150\"\r\n                    align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                        @click=\"openDetail(scope.row)\"\r\n                        type=\"text\"\r\n                        size=\"small\"\r\n                        style=\"color:#f56c6c\">\r\n                        {{$t(\"common.details\")}}\r\n                        </el-button>\r\n                        <el-button\r\n                        @click.native.prevent=\"deleteRow(scope.row)\"\r\n                        type=\"text\"\r\n                        class=\"del-btn\"\r\n                        size=\"small\"\r\n                        >\r\n                        <!-- :disabled=\"!$route.meta['remove']\" -->\r\n                          {{$t(\"common.delete\")}}\r\n                        </el-button>\r\n                    </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n        <!-- 分页 -->\r\n        <div class=\"pagination-box\" ref=\"pagination\">\r\n          <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            :page-sizes=\"[5,10,20]\"\r\n            :page-size.sync=\"pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"total\">\r\n          </el-pagination>\r\n        </div>\r\n        </div>\r\n        <!-- 详情模态框 -->\r\n        <el-dialog :title=\"$t('accessRecords.detailsAlert.title')\"\r\n               :visible.sync=\"accessrecordsdialogVisible\"\r\n               width=\"646px\"\r\n               :before-close=\"handlecloseaccessrecordsdialogVisible\"\r\n               class=\"access-dialog\">\r\n          <div class=\"pic-div\">\r\n            <div class=\"pic-box\">\r\n              <img :src=\"persondetail.snapPhoto\" :alt=\"$t('accessRecords.detailsAlert.noPhotos')\" style=\"width:100%;height:100%\">\r\n            </div>\r\n            <div class=\"pic-info\">\r\n              <span v-if=\"persondetail.urls&&persondetail.snapPhoto\">87%</span>\r\n              <span v-else>{{$t(\"accessRecords.detailsAlert.noResult\")}}</span>\r\n            </div>\r\n            <div class=\"pic-box\">\r\n              <img :src=\"persondetail.urls\"\r\n                   :alt=\"$t('accessRecords.detailsAlert.noPhotos')\"\r\n                   style=\"width:100%;height:100%\">\r\n            </div>\r\n          </div>\r\n          <div class=\"detailcontent\">\r\n            <div>\r\n              <div v-for=\"(item,index) in detailArr1\"\r\n                   :key=\"index\">\r\n                   <span class=\"detail-title\">{{item.name}}：</span>\r\n                   <span class=\"detail-info\"\r\n                         v-if=\"persondetail[item.property]\">\r\n                    {{persondetail[item.property]}}\r\n                   </span>\r\n                   <span class=\"detail-info\" v-else>{{$t(\"accessRecords.detailsAlert.null\")}}</span>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <div v-for=\"(item,index) in detailArr2\"\r\n                   :key=\"index\">\r\n                   <span class=\"detail-title\">{{item.name}}：</span>\r\n                   <span class=\"detail-info\"\r\n                         v-if=\"persondetail[item.property]\">\r\n                    {{persondetail[item.property]}}\r\n                   </span>\r\n                   <span class=\"detail-info\" v-else>{{$t(\"accessRecords.detailsAlert.null\")}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"sub\">\r\n            <el-button type=\"primary\" @click=\"cancelaccessrecordsdialogVisible('selectgroupform')\" >{{$t(\"common.ok\")}}</el-button>\r\n          </div>\r\n        </el-dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n// 分隔符\r\nimport separator from \"../../public/separator.vue\";\r\n// 表格结构配置\r\nimport TABLE_TYEPS from \"../../../config/tableType.js\";\r\nimport operationConfig from \"../../../config/operation_config.js\";\r\n// 接口\r\nimport APICONFIG from \"../../../config/api.js\";\r\n\r\nexport default {\r\n  name: \"access_records\",\r\n  components: {\r\n    separator\r\n  },\r\n  data () {\r\n    return {\r\n      detailArr1: [\r\n        { name: this.$t(\"personInf.name\"), property: 'name' },\r\n        { name: this.$t(\"personInf.code\"), property: 'code' },\r\n        { name: this.$t(\"personInf.sex\"), property: 'sex' },\r\n        { name: this.$t(\"personInf.id\"), property: 'idcard' },\r\n        { name: this.$t(\"personInf.email\"), property: 'email' },\r\n        { name: this.$t(\"personInf.phone\"), property: 'phone' },\r\n        { name: this.$t(\"personInf.type\"), property: 'personType' },\r\n        { name: this.$t(\"personInf.organization\"), property: 'organization' },\r\n      ],\r\n      detailArr2: [\r\n        { name: this.$t(\"accessRecords.detailsAlert.time\"), property: 'recordDate' },\r\n        { name: this.$t(\"accessRecords.detailsAlert.equipment\"), property: 'deviceName' },\r\n        { name: this.$t(\"accessRecords.detailsAlert.inOut\"), property: 'divergenceType' },\r\n        { name: this.$t(\"accessRecords.detailsAlert.passageWay\"), property: 'passageWay' },\r\n        {name: this.$t(\"accessRecords.detailsAlert.results\"), property: 'validateResult'}\r\n      ],\r\n      tableData: [],\r\n      accessrecordsdialogVisible: false,\r\n      tableDataLabel: null,\r\n      searchConfig: null,\r\n      detailsShow: {},\r\n      batchdisabled: true,\r\n      multipleSelection: [], //选中的row\r\n      detailsDialog: false,\r\n      tableBoxLoading: false,\r\n      shouwDetails: null,\r\n      netAPI: '',\r\n      deviceAPI: '',\r\n      pageSize: 5, //页面的显示个数\r\n      total: 0, //总量\r\n      currentPage: 1,\r\n      personId: '',\r\n      // 通行结果\r\n      AccessResultType: '',\r\n      // 人员类型\r\n      personType: '',\r\n      // 进出类型\r\n      divergenceType: '',\r\n      deviceType: [],\r\n      divergenceId: '',\r\n      // 人员详情\r\n      persondetail: {},\r\n      // 抓拍照片\r\n      snapPhoto: '',\r\n      imageUrl: '',\r\n      date: '',\r\n      env: '',\r\n      searchParam: {\r\n        // name: '',\r\n        // code: '',\r\n        sn: '',\r\n        startDate: '',\r\n        endDate: '',\r\n        personType: '',\r\n        field: '',\r\n        pageNo: 1,\r\n        pageSize: 5,\r\n      },\r\n      // 设置row-key\r\n      getRowKeys(row) {\r\n        return row.id\r\n      },\r\n    };\r\n  },\r\n  created () {\r\n    this.netAPI = APICONFIG().get(\"access_records\");\r\n    this.deviceAPI = APICONFIG().get(\"device\");\r\n    this.peopleAPI = APICONFIG().get(\"people_manage\");\r\n    this.getPersonType();\r\n    this.findAccessResult();\r\n    this.findAccessCategory();\r\n    this.findDevice();\r\n    this.searchData();\r\n    this.env = process.env.NODE_ENV\r\n    // console.log(Boolean(this.$route.meta['remove']))\r\n  },\r\n  mounted () {\r\n    this.tableDataLabel = TABLE_TYEPS.get(\"access_records\");\r\n    this.searchConfig = operationConfig.get(\"access_records\");\r\n  },\r\n  methods: {\r\n    filterselectable(row, index) {\r\n      if(this.$route.meta['remove']) {\r\n        return 1;\r\n      }else{\r\n        return 0;\r\n      }\r\n    },\r\n    changeDate(val) {\r\n      console.log(this.date)\r\n    },\r\n    filterTbale(row, column, cell, index) {\r\n      for(var i = 0; i < this.personType.length; i++) {\r\n        if(this.personType[i].no == row.personType) {\r\n          return this.personType[i].name;\r\n        }\r\n      }\r\n    },\r\n    filterTbale2(row) {\r\n      switch(row.divergenceType) {\r\n        case \"1\":\r\n          return '成功';\r\n        case \"2\" :\r\n          return \"失败\";\r\n      }\r\n    },\r\n    handleSelectionChange(val) {\r\n      if(val.length > 0) {\r\n        this.batchdisabled = false\r\n      }else{\r\n        this.batchdisabled = true\r\n      }\r\n      this.multipleSelection = val;\r\n    },\r\n    // 查询识别记录列表\r\n    searchData (v) {\r\n      this.tableBoxLoading = true;\r\n      if(v === 'search') {\r\n        this.currentPage = 1\r\n      }\r\n      this.searchParam.pageSize = this.pageSize;\r\n      this.searchParam.pageNo = this.currentPage;\r\n      if(this.date) {\r\n        this.searchParam.startDate = this.formatDate(this.date[0])\r\n        this.searchParam.endDate = this.formatDate(this.date[1])\r\n      }else{\r\n        this.searchParam.startDate = \"\"\r\n        this.searchParam.endDate = \"\"\r\n      }\r\n      // console.log(JSON.stringify(this.searchParam))\r\n      this.$http\r\n        .get(this.netAPI.findAccessRecord, { params: this.searchParam })\r\n        .then(\r\n          res => {\r\n            if (res.body.status == 200) {\r\n              // console.log(JSON.stringify(res.body.data))\r\n              res.body.data.forEach(item => {\r\n                item.recordDate = this.parsedate(item.recordDate)\r\n              })\r\n              this.tableData = res.body.data;\r\n              this.total = res.body.total;\r\n              this.tableBoxLoading = false;\r\n              this.$refs.accessTable.clearSelection();\r\n            }\r\n          }\r\n        );\r\n    },\r\n    formatDate (date) {\r\n      let y = date.getFullYear();\r\n      let m = date.getMonth() + 1;\r\n      m = m < 10 ? \"0\" + m : m;\r\n      let d = date.getDate();\r\n      d = d < 10 ? \"0\" + d : d;\r\n      return y + \"-\" + m + \"-\" + d;\r\n    },\r\n    parsedate(date) {\r\n      let day = date.slice(0, 10);\r\n      let second = date.slice(11, 19)\r\n      return day + \" \" + second\r\n    },\r\n    // 查询设备列表\r\n    findDevice () {\r\n      let type = [1, 3];\r\n      let promises = type.map(item =>\r\n      // 查询所有摄像机和智能硬件\r\n        this.$http.get(this.deviceAPI.find, {\r\n          params: {\r\n            type: item,\r\n            pageNo: 1,\r\n            pageSize: 100000\r\n          }\r\n        })\r\n      );\r\n      Promise.all(promises).then(\r\n        res => {\r\n          // console.log(res)\r\n          let resArr = res.map(item => {\r\n            return item.body.data;\r\n          })\r\n          let result = resArr[0].concat(resArr[1])\r\n          this.deviceType = result;\r\n          // console.log(JSON.stringify(this.deviceType))\r\n        }\r\n      )\r\n    },\r\n     // 查询通行结果集\r\n    findAccessResult () {\r\n      this.$http.get(this.netAPI.findAccessResult).then(\r\n        res => {\r\n          if(res.body.status == 200) {\r\n            // console.log(JSON.stringify(res.body.data))\r\n            this.AccessResultType = res.body.data\r\n          }\r\n        }\r\n      )\r\n    },\r\n    // 获取人员类型\r\n    getPersonType () {\r\n      this.$http.get(this.peopleAPI.findPeopleCategory).then(res => {\r\n        // console.log(JSON.stringify(res.body.data))\r\n        this.personType = res.body.data\r\n      })\r\n    },\r\n    // 查询进出类型\r\n    findAccessCategory () {\r\n      this.$http.get(this.netAPI.findAccessCategory).then(\r\n        res => {\r\n          if(res.body.status == 200) {\r\n            // console.log(JSON.stringify(res.body.data))\r\n            this.divergenceType = res.body.data\r\n          }\r\n        }\r\n      )\r\n    },\r\n    // 查看人员详情(打开详情模态框)\r\n    openDetail (row) {\r\n      console.log(JSON.stringify(row))\r\n      // debugger\r\n      this.persondetail.name = row.name\r\n      this.persondetail.code = row.code\r\n      this.persondetail.personType = row.personType\r\n      this.persondetail.passageWay = row.passageWay\r\n      this.persondetail.validateResult = row.validateResult\r\n      this.persondetail.divergenceType = row.divergenceType\r\n      this.persondetail.recordDate = row.recordDate\r\n      this.persondetail.deviceName = row.deviceName\r\n      this.snapPhoto = row.snapPhoto\r\n      this.persondetail.snapPhoto = row.snapPhoto\r\n      // // 查询人员详情\r\n      this.$http.get(this.netAPI.findPersonDetail, {params: {code: row.code}}).then(\r\n        res => {\r\n          if(res.body.status == 200) {\r\n            // console.log(JSON.stringify(res))\r\n            if(res.body.data) {\r\n              let resp = res.body.data\r\n              // console.log(JSON.stringify(res.body.data))\r\n              this.persondetail.organization = res.body.data.organization\r\n              this.persondetail.urls = res.body.data.urls\r\n              // 查询该人员有哪些属性\r\n              this.$http.get(this.netAPI.findPersonProperty, {params: {categoryNo: res.body.data.type}})\r\n              .then(\r\n                res => {\r\n                  if(res.body.status == 200) {\r\n                    // console.log(JSON.stringify(res.body.data))\r\n                    this.persondetail.idcard = resp.code\r\n                    this.persondetail.phone = resp.ext_01\r\n                  }else{\r\n                    this.$message.warning('查询属性失败' + res.body.message)\r\n                  }\r\n                  this.accessrecordsdialogVisible = true;\r\n                },\r\n                err => {\r\n                  this.$message.warning('服务错误' + err)\r\n                  this.accessrecordsdialogVisible = true;\r\n                }\r\n              )\r\n            }\r\n          }\r\n          this.accessrecordsdialogVisible = true;\r\n        },\r\n        err => {\r\n          this.$message.warning('服务错误' + err)\r\n          this.accessrecordsdialogVisible = true;\r\n        }\r\n      )\r\n    },\r\n    // 点击右上角，关闭详情模态框\r\n    handlecloseaccessrecordsdialogVisible(done) {\r\n      done()\r\n    },\r\n    // 点击取消，关闭详情模态框\r\n    cancelaccessrecordsdialogVisible () {\r\n      this.accessrecordsdialogVisible = false;\r\n    },\r\n    // 删除\r\n    deleteRow (row = null) {\r\n      // console.log(JSON.stringify(row))\r\n      let ids = [];\r\n      if (!row) {\r\n        this.$message({\r\n          message: this.$t(\"delete.choose\"),\r\n          type: \"warning\"\r\n        });\r\n        return;\r\n      }\r\n      //判断数据类型\r\n      let rowType = Object.prototype.toString.call(row);\r\n      // console.log(rowType)\r\n      if (rowType == \"[object Array]\") {\r\n        for (let index in row) {\r\n          ids.push({ id: row[index].id });\r\n        }\r\n      } else {\r\n        ids.push({ id: row.id });\r\n      }\r\n      console.log(JSON.stringify(ids))\r\n      //弹出对话框\r\n      this.$confirm(this.$t(\"delete.deleteRow\"), this.$t(\"delete.prompt\"), {\r\n        distinguishCancelAndClose: true,\r\n        type: 'warning',\r\n        confirmButtonText: this.$t('common.delete'),\r\n        cancelButtonText: this.$t(\"delete.cancel\")\r\n      }).then(() => {\r\n        //确认删除\r\n        this.$http.post(this.netAPI.delete, ids).then(res => {\r\n          if (res.data.status == 200) {\r\n            //删除成功\r\n            // console.log(\"删除成功\")\r\n            if (ids.length == this.tableData.length) {\r\n              //整页\r\n              this.searchData(\r\n                this.pageSize,\r\n                this.currentPage - 1 > 0 ? this.currentPage - 1 : 1\r\n              );\r\n            } else {\r\n              this.searchData(this.pageSize, this.currentPage);\r\n            }\r\n          }\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: \"info\",\r\n          message: this.$t(\"delete.canceledDeletion\")\r\n        });\r\n      });\r\n    },\r\n    // 转换\r\n    // parseData (res) {\r\n    //   this.tableData = [];\r\n    //   for (let item of res.body.data) {\r\n    //     // 判断识别结果\r\n    //     item.passageResult = item.passageResult == 1 ? \"通过\" : \"未通过\";\r\n    //     this.tableData.push(item);\r\n    //   }\r\n    //   this.total = res.data.data.length\r\n    // },\r\n    // // 按页加载\r\n    // getData (page = { pageSize: this.pageSize, pageNo: this.currentPage }) {\r\n    //   this.$http.get(this.netAPI.findAccessRecord, { params: page }).then(\r\n    //     res => {\r\n    //       if (res.body.status == 200) {\r\n    //         // debugger\r\n    //         this.parseData(res);\r\n    //       }\r\n    //     }\r\n    //   );\r\n    // },\r\n    handleSizeChange (pageSize) {\r\n      this.pageSize = pageSize;\r\n      this.searchData();\r\n    },\r\n    handleCurrentChange (Current) {\r\n      this.currentPage = Current;\r\n      this.searchData();\r\n    },\r\n    // 点击右上角，关闭详情模态框\r\n    detailsDialogClose () {\r\n      this.detailsDialog = false;\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.accessRecord-Page{\r\n    .accessRecord-content {\r\n      background:rgba(255,255,255,1);\r\n      border:1px solid rgba(233,233,233,1);\r\n      box-shadow:#D1D1D1 0 2px 4px 0;\r\n      border-radius:5px;\r\n      margin-top: 10px;\r\n      .operation-box{\r\n        height: 2.2rem;\r\n        box-sizing: border-box;\r\n        padding: 10px 30px;\r\n        padding-bottom: 0;\r\n        position: relative;\r\n        .blue{\r\n          width:12px;\r\n          height:20px;\r\n          background:rgba(67,131,220,1);\r\n          border-radius:0px 3px 3px 0px;\r\n          position: absolute;\r\n          left: 0;\r\n          top: 19px;\r\n        }\r\n        .title{\r\n          height: 0.77rem;\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 20px;\r\n          font-weight: 600;\r\n        }\r\n        // .search{\r\n        //   height: 2.1rem;\r\n        // }\r\n      }\r\n      .table-box{\r\n        box-sizing: border-box;\r\n        padding: 0 30px;\r\n        .pagination-box{\r\n          height: 50px;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n        }\r\n      }\r\n  }\r\n  .access-dialog{\r\n    .pic-div{\r\n        width: 100%;\r\n        height: 180px;\r\n        box-sizing: border-box;\r\n        padding: 0 30px;\r\n        display: flex;\r\n        justify-content: space-around;\r\n        .pic-info{\r\n          height:180px;\r\n          width:80px;\r\n          display: flex;\r\n          justify-content: center;\r\n          align-items: center;\r\n        }\r\n        .pic-box{\r\n          width: 180px;\r\n          height: 180px;\r\n        }\r\n      }\r\n    .detailcontent{\r\n      display: flex;\r\n      box-sizing: border-box;\r\n      padding-top: 30px;\r\n      padding-left: 45px;\r\n      padding-right: 20px;\r\n      font-size: 14px;\r\n      line-height: 30px;\r\n      justify-content: space-between;\r\n      .detail-title{\r\n        color: #74777B;\r\n        font-family: MicrosoftYaHeiLight;\r\n      }\r\n      .detail-info{\r\n        color: #252C35;\r\n        font-family: MicrosoftYaHei;\r\n      }\r\n    }\r\n    .sub{\r\n    text-align: right;\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.accessRecord-Page{\r\n  .search{\r\n    // height: 150px !important;\r\n    display: flex;\r\n    align-items: center;\r\n    form{\r\n      // height: 150px !important;\r\n      .el-form-item__label{\r\n        padding: 0 !important;\r\n      }\r\n      \r\n    }\r\n  }\r\n  @media screen and(max-width:1700px){\r\n    .table-box{\r\n      margin-top:50px;\r\n    }\r\n  }\r\n  @media screen and(max-width:1040px){\r\n    .remove-button{\r\n      padding: 12px 10px !important;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/public/access_records.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accessRecord-Page\"},[_c('separator',{attrs:{\"id\":\"bread\"}}),_vm._v(\" \"),_c('div',{staticClass:\"accessRecord-content\"},[_c('div',{staticClass:\"operation-box\"},[_c('i',{staticClass:\"blue\"}),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"accessRecords.identification\")))])]),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.searchParam}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('accessRecords.nameOrNum')+'：'}},[_c('el-input',{staticStyle:{\"width\":\"3.5rem\"},attrs:{\"placeholder\":_vm.$t('accessRecords.nameOrNum')},model:{value:(_vm.searchParam.field),callback:function ($$v) {_vm.$set(_vm.searchParam, \"field\", $$v)},expression:\"searchParam.field\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('accessRecords.time')+'：'}},[_c('el-date-picker',{staticClass:\"picker\",staticStyle:{\"width\":\"6.5rem\"},attrs:{\"type\":\"daterange\",\"range-separator\":_vm.$t('common.to'),\"start-placeholder\":_vm.$t('common.startDate'),\"end-placeholder\":_vm.$t('common.endDate')},on:{\"change\":function($event){_vm.changeDate()}},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"person-type\",attrs:{\"label\":_vm.$t('accessRecords.personnelType')+'：'}},[_c('el-select',{staticClass:\"mini-input\",staticStyle:{\"width\":\"3.5rem\"},attrs:{\"placeholder\":_vm.$t('accessRecords.all'),\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.searchParam.personType),callback:function ($$v) {_vm.$set(_vm.searchParam, \"personType\", $$v)},expression:\"searchParam.personType\"}},_vm._l((_vm.personType),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.no}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"device\",attrs:{\"label\":_vm.$t('accessRecords.equipment')+'：'}},[_c('el-select',{staticClass:\"mini-input\",staticStyle:{\"width\":\"3rem\"},attrs:{\"placeholder\":_vm.$t('accessRecords.all'),\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.searchParam.sn),callback:function ($$v) {_vm.$set(_vm.searchParam, \"sn\", $$v)},expression:\"searchParam.sn\"}},_vm._l((_vm.deviceType),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"search-button\"},[_c('el-button',{staticClass:\"search-button\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){_vm.searchData('search')}}},[_vm._v(_vm._s(_vm.$t(\"common.search\")))])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{ref:\"batchremove\",staticClass:\"remove-button\",attrs:{\"icon\":\"el-icon-delete\",\"disabled\":_vm.batchdisabled},on:{\"click\":function($event){_vm.deleteRow(_vm.multipleSelection)}}},[_vm._v(_vm._s(_vm.$t(\"common.batchDeletion\"))+\"\\n              \")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{ref:\"tableBox\",staticClass:\"table-box\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableBoxLoading),expression:\"tableBoxLoading\"}],ref:\"accessTable\",attrs:{\"data\":_vm.tableData,\"height\":\"575\",\"header-cell-style\":{background:'rgba(245,248,252,1)'},\"default-sort\":{prop: 'id', order: 'ascending'},\"row-key\":_vm.getRowKeys},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"fixed\":\"\",\"type\":\"selection\",\"width\":\"55\",\"reserve-selection\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('accessRecords.number'),\"type\":\"index\",\"width\":\"80\",\"align\":\"center\"}}),_vm._v(\" \"),_vm._l((_vm.tableDataLabel),function(tab,index){return _c('el-table-column',{key:index,attrs:{\"label\":_vm.$i18n.locale=='en'?tab.enName:tab.name,\"prop\":tab.property,\"min-width\":tab.width,\"align\":\"center\",\"formatter\":index == 2?_vm.filterTbale:(index == 6 ?_vm.filterTbale2:null)}})}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('accessRecords.snapPhotos'),\"prop\":\"snapPhoto\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.snapPhoto !== undefined)?_c('div',[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":scope.row.snapPhoto,\"alt\":\"not found\"}})]):_c('div',[(_vm.$i18n.locale == 'en')?_c('span',[_vm._v(\"No photos\")]):_c('span',[_vm._v(\"暂无抓拍照片\")])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":_vm.$t('common.operation'),\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{staticStyle:{\"color\":\"#f56c6c\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.openDetail(scope.row)}}},[_vm._v(\"\\n                    \"+_vm._s(_vm.$t(\"common.details\"))+\"\\n                    \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"del-btn\",attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.deleteRow(scope.row)}}},[_vm._v(\"\\n                      \"+_vm._s(_vm.$t(\"common.delete\"))+\"\\n                    \")])]}}])})],2),_vm._v(\" \"),_c('div',{ref:\"pagination\",staticClass:\"pagination-box\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[5,10,20],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:pageSize\":function($event){_vm.pageSize=$event}}})],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"access-dialog\",attrs:{\"title\":_vm.$t('accessRecords.detailsAlert.title'),\"visible\":_vm.accessrecordsdialogVisible,\"width\":\"646px\",\"before-close\":_vm.handlecloseaccessrecordsdialogVisible},on:{\"update:visible\":function($event){_vm.accessrecordsdialogVisible=$event}}},[_c('div',{staticClass:\"pic-div\"},[_c('div',{staticClass:\"pic-box\"},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.persondetail.snapPhoto,\"alt\":_vm.$t('accessRecords.detailsAlert.noPhotos')}})]),_vm._v(\" \"),_c('div',{staticClass:\"pic-info\"},[(_vm.persondetail.urls&&_vm.persondetail.snapPhoto)?_c('span',[_vm._v(\"87%\")]):_c('span',[_vm._v(_vm._s(_vm.$t(\"accessRecords.detailsAlert.noResult\")))])]),_vm._v(\" \"),_c('div',{staticClass:\"pic-box\"},[_c('img',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"src\":_vm.persondetail.urls,\"alt\":_vm.$t('accessRecords.detailsAlert.noPhotos')}})])]),_vm._v(\" \"),_c('div',{staticClass:\"detailcontent\"},[_c('div',_vm._l((_vm.detailArr1),function(item,index){return _c('div',{key:index},[_c('span',{staticClass:\"detail-title\"},[_vm._v(_vm._s(item.name)+\"：\")]),_vm._v(\" \"),(_vm.persondetail[item.property])?_c('span',{staticClass:\"detail-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.persondetail[item.property])+\"\\n               \")]):_c('span',{staticClass:\"detail-info\"},[_vm._v(_vm._s(_vm.$t(\"accessRecords.detailsAlert.null\")))])])})),_vm._v(\" \"),_c('div',_vm._l((_vm.detailArr2),function(item,index){return _c('div',{key:index},[_c('span',{staticClass:\"detail-title\"},[_vm._v(_vm._s(item.name)+\"：\")]),_vm._v(\" \"),(_vm.persondetail[item.property])?_c('span',{staticClass:\"detail-info\"},[_vm._v(\"\\n                \"+_vm._s(_vm.persondetail[item.property])+\"\\n               \")]):_c('span',{staticClass:\"detail-info\"},[_vm._v(_vm._s(_vm.$t(\"accessRecords.detailsAlert.null\")))])])}))]),_vm._v(\" \"),_c('div',{staticClass:\"sub\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.cancelaccessrecordsdialogVisible('selectgroupform')}}},[_vm._v(_vm._s(_vm.$t(\"common.ok\")))])],1)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1a98f121\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/public/access_records.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a98f121\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./access_records.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1a98f121\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./access_records.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./access_records.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./access_records.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1a98f121\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./access_records.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1a98f121\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/public/access_records.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}